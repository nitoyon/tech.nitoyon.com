<!doctype html>
<html lang="ja">


<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>Flex の見た目カスタマイズについて調べてみた - てっく煮ブログ</title>
	<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link rel="stylesheet" href="/stylesheets/screen.css" type="text/css" />
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
	<meta property="og:title" content="Flex の見た目カスタマイズについて調べてみた"/>
	<meta property="og:url" content="http://tech.nitoyon.com/ja/blog/2007/04/22/flex-ui-customize/"/>
	<meta property="og:type" content="article"/>
	<meta property="og:description" content="前置き出発点は Adobe Design Center - Video workshop。このページ、CS3 のチュートリアル ビデオがいっぱいあって、CS3 の新機能を予習できたりもする。ネタ元は POP*POP。と、表向きの紹介はこの辺でおいといて、気になったのが「このページ、Flex だよね」ということ。DataGrid そのまんま。標準のデザインと色が違ってるだけなんだけど、ちょっとかっこいい。今までは Flex 使ったら機能的になるけど見た目は微妙だよなー、と思っていたんだけどどうやらそうでもないらしい。で、調査してみた。Flex で Napkin Look and Feelま..."/>
	<meta property="og:image" content="http://tech.nitoyon.com/apple-touch-icon-114x114.png"/>
	<meta property="og:site_name" content="てっく煮ブログ"/>
	<meta property="fb:admins" content="1297551349" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=0">
	<link rel="alternate" type="application/rss+xml" title="RSS" href="/ja/blog/index.xml" />
</head>
<body class="ja">
<header class="wrap page-header">
<div class="wrapped">
	<h1 id="logo">
		
		<a href="/ja/blog/" id="logo-blog-ja">てっく煮ブログ</a>
		
	</h1>
	<nav>
		<ul>
<li class="home"><a href="/ja/">HOME</a></li><li class="about"><a href="http://tech.nitoyon.com/about.html">ABOUT</a></li><li class="blog"><a href="/ja/blog/">BLOG(ja)</a></li><li class="blog-en"><a href="/en/blog/">BLOG(en)</a></li><li class="contact"><a href="/contact.html">CONTACT</a></li>
		</ul>
	</nav>
</div>
</header>
<div class="wrap">
<div class="wrapped">

<article>
<header>
<hgroup>
<h2>2007年04月22日</h2>
<h1>Flex の見た目カスタマイズについて調べてみた</h1>
</hgroup>

<div class="share">
	<a href="http://b.hatena.ne.jp/entry/tech.nitoyon.com/entry/20070422/flex_ui_customize" class="hatena-bookmark-button" data-hatena-bookmark-title="Flex の見た目カスタマイズについて調べてみた - てっく煮ブログ"  data-hatena-bookmark-layout="standard" title="このエントリーをはてなブックマークに追加"><img src="http://b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a>
	<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://tech.nitoyon.com/ja/blog/2007/04/22/flex-ui-customize/" data-lang="ja" data-size="horizontal" data-text="Flex の見た目カスタマイズについて調べてみた - てっく煮ブログ" data-related="nitoyon" data-dnt="true">Tweet</a>
	<div class="fb-like" data-send="false" data-layout="button_count" data-width="90" data-show-faces="false"></div>
</div>

</header>

<div class="entry">
<div class="entry-body">
<section>
<h1>前置き</h1>
<p>出発点は <a href="http://www.adobe.com/designcenter/video_workshop/">Adobe Design Center - Video workshop</a>。</p>
<p>このページ、CS3 のチュートリアル ビデオがいっぱいあって、CS3 の新機能を予習できたりもする。ネタ元は <a href="http://www.popxpop.com/archives/2007/04/adobevideo_workshop.html">POP*POP</a>。</p>
<center><img src="http://f.hatena.ne.jp/images/fotolife/n/nitoyon/20070423/20070423021239.jpg" width="408" height="172" alt="dobe Design Center - Video workshop"></center>
<p>と、表向きの紹介はこの辺でおいといて、気になったのが「このページ、Flex だよね」ということ。DataGrid そのまんま。標準のデザインと色が違ってるだけなんだけど、ちょっとかっこいい。</p>
<p>今までは Flex 使ったら機能的になるけど見た目は微妙だよなー、と思っていたんだけどどうやらそうでもないらしい。</p>
<p>で、調査してみた。</p>
<h1>Flex で Napkin Look and Feel</h1>
<p>まず面白かったのが、Flex で Napkin Look and Feel を実現するページ。キャプチャを見たら分かるけど、かなり見た目が変わってる。（Napkin Look and Feel に関しては <a href="http://www.aoky.net/articles/kathy_sierra/dont_make_the_d.htm">デモではものができあがっているように見せない</a> が詳しいのでそちらを参照あれ）</p>
<center><img src="http://f.hatena.ne.jp/images/fotolife/n/nitoyon/20070423/20070423021240.jpg" width="450" height="125" alt="Napkin skins in Flex"></center>
<p>全３回のチュートリアル形式になっている：</p>
<dl><dt>第１回：<a href="http://onreflexion.blogspot.com/2007/01/napkin-skins-stage-one-css-styles-and.html">Napkin skins, stage one：CSS styles and graphical skins</a></dt><dd>CSS だけで見た目を変えてみる。背景や枠線の色・太さは変えられる。</dd><dt>第２回：<a href="http://onreflexion.blogspot.com/2007/01/napkin-skins-stage-two-programmatic.html">Napkin skins, stage two：programmatic skins</a></dt><dd>プログラムスキンを使って ActionScript で UI の描画方法をいじる。</dd><dt>第３回：<a href="http://onreflexion.blogspot.com/2007/01/napkin-skins-stage-three-current-limits.html">Napkin skins, stage three：the (current) limits of skinning</a></dt><dd>CSS とプログラムスキンではいじれなかった部分を、サブクラス化によってカスタマイズする。ここまでくると、かなり泥臭い。</dd></dl>
<p>このサンプルのおかげで、見た目を変えるときの当たりのつけ方が分かった気がする。全部ソースがついてるので、手元でコンパイルしながら確認できるのもうれしい。</p>
<p>via: <a href="http://www.noridon.net/weblogs/archives/2007/04/addressbooknapk.html">AddressBookにNapkinSkinを適用してみる：nod::ぶろぐ</a></p>
<h1>自分で書いてみた</h1>
<p>MXML で CSS をカスタマイズしてみる。</p>
<div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;mx:Application</span> <span class="na">xmlns:mx=</span><span class="s">&quot;http://www.adobe.com/2006/mxml&quot;</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;mx:Style</span> <span class="na">source=</span><span class="s">&quot;test.css&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;mx:Panel</span> <span class="na">title=</span><span class="s">&quot;My Application&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;mx:Label</span> <span class="na">text=</span><span class="s">&quot;Hello World!&quot;</span> <span class="na">fontWeight=</span><span class="s">&quot;bold&quot;</span> <span class="na">fontSize=</span><span class="s">&quot;24&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/mx:Panel&gt;</span>
<span class="nt">&lt;/mx:Application&gt;</span>
</pre>
</div>

<p>でも、これ、コンパイル時に test.css がないとエラーになる。</p>
<p>コンパイル後にダイナミックにスタイルを書き換えられないのかなぁ、と思って Flex 2.0.1 から導入された Runtime CSS について調べてみた。</p>
<ul><li><a href="http://www.fxug.net/modules/xhnewbb/viewtopic.php?topic_id=708">スタイルシートの動的切り替え - フォーラム - Flex User Group</a></li><li><a href="http://shigeru-nakagaki.com/flex_samples/Style/RuntimeCSS/RuntimeCSS.html">Runtime CSS Sample</a> （ソースつき）</li></ul>
<p>コンパイル済み CSS を StyleManager.loadStyleDeclarations でロードするらしい。</p>
<p>でもこれ、CSS 変更→CSS コンパイル→テスト という手順になる。MXML のコンパイルの代わりに CSS のコンパイルするだけで、あまりうれしくはない。</p>
<p>HTML+CSS みたく、CSS 変更→テスト にしたいよね…。</p>
<h1>リアルタイム CSS アップデータ ツール</h1>
<p>不便だなぁ、と悶々としていたら、ちょうどリアルタイムに fladdict さんところで、<a href="http://fladdict.net/blog/2007/04/flexcss.html">Flexで外部からリアルタイムにCSSを更新できるエディター</a> が紹介されていた。ナイスタイミング。</p>
<ul><li><a href="http://shigeru-nakagaki.com/index.cfm/2007/3/22/20070322-RealTime-CSS-Updater-JP">Shigeru-Nakagaki.com: リアルタイム CSS アップデータ ツール</a></li></ul>
<p>この記事、以前も見た記憶があったけど、そのときはありがたみに気づかなかった。やっと需要が理解できるところまでいった。</p>
<p>Flex2 Style Explorer の変更をリアルタイムに自分の Flex アプリに適用できるようになる。仕組みは単純。Flex2 Style Explorer が出力する CSS を LocalConnection で自分の Flex アプリに転送して、Flex 側でパースして SetStyle しまくる。</p>
<h1>以下、まとめ。むしろ、妄想</h1>
<ul><li>FABridge を使えば、JavaScript 経由で eval・Inspect・関数呼び出しできる</li><li>リアルタイム CSS アップデータ ツールを使えば、リアルタイムで CSS を書き換えられる</li></ul>
<p>ってことは</p>
<ul><li>あと一息がんばれば、Flex 版の Firebug もどき作れるってことじゃね？</li><li>Apollo でやるのか、Firefox エクステンションでやるのか、Firebug をいじっちゃうのか、どういう手法がいいか分からないけど、すごく楽しそう...</li><li>１人でやるにはあまりにも時間が足りないから、誰か賛同してくれないかなぁ</li></ul>
<p>(追記:2007/4/23 23:50) secondlife さんに <a href="http://subtech.g.hatena.ne.jp/secondlife/20070423/1177293159">「誰か賛同してくれないかなぁ」をつっこまれてしまった</a>。確かにその通り。言い訳すると、今のところ AS/Flex やってる人はコアな人ばかりな気がするので、共同でやるなら今のうちかな、と思って書いてみたのでした。ま、ぼちぼち調査しながら設計していきます。</p>
</section>

</div>

<div class="bottom-share">
<div class="share">
	<a href="http://b.hatena.ne.jp/entry/tech.nitoyon.com/entry/20070422/flex_ui_customize" class="hatena-bookmark-button" data-hatena-bookmark-title="Flex の見た目カスタマイズについて調べてみた - てっく煮ブログ"  data-hatena-bookmark-layout="standard" title="このエントリーをはてなブックマークに追加"><img src="http://b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a>
	<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://tech.nitoyon.com/ja/blog/2007/04/22/flex-ui-customize/" data-lang="ja" data-size="horizontal" data-text="Flex の見た目カスタマイズについて調べてみた - てっく煮ブログ" data-related="nitoyon" data-dnt="true">Tweet</a>
	<div class="fb-like" data-send="false" data-layout="button_count" data-width="90" data-show-faces="false"></div>
</div>

</div>

<div class="post-ad">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-5030829344952718";
/* tech.nitoyon.com footer */
google_ad_slot = "9965361520";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

<div id="pager-bottom">
	
		&laquo;&nbsp;<a href="/ja/blog/2007/04/17/ria-gekidou/" rel="previous">RIA 業界で動きありすぎな4月16日</a>
	

	|

	
		<a href="/ja/blog/2007/04/24/bookmarked-summary/" rel="next">サイトの最新被ブックマークを livedoor Reader で読むための Pipes&nbsp;&raquo;</a>
	
</div>

<div id="disqus_thread"></div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</div><!--entry-->

</article>

</div>
</div>

<footer class="page-footer">
<h2>About</h2>
<div class="wrapped">
	<div id="profile" class="column">
		<h3>Profile</h3>

		<a href="/about.html" id="prof_pic"><img alt="Photo" src="/img/icon/pic.jpg"></a>
		<p>nitoyon (にとよん)</p>
		<p>京都のベンチャー会社勤務。プログラマ、たまに趣味でデザイン。twitter は @nitoyon。</p>
		<p class="seemore"><a href="/about.html">詳細</a></p>
	</div>

	<div id="recententries" class="column">
		<h3>Recent Entries</h3>
		<ul id="recententries_list">
			<li><img src="/images/loading.gif"><noscript>(JavaScript required)</noscript></li>
		</ul>
	</div>
</div>
</div><!--wrapped-->

<div class="wrapped">
	<h3>Archive</h3>
	<ul id="archive_month_list">
		<li><img src="/images/loading.gif"><noscript>(JavaScript required)</noscript></li>
	</ul>
</div><!-- wrapped -->

<div class="wrap copy">
&copy; nitoyon 2002-2012. All rights reserved.
</div>
</footer>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/ja/posts.js"></script>
<script src="/javascripts/techni.js"></script>
<div id="fb-root"></div>
</body>
</html>