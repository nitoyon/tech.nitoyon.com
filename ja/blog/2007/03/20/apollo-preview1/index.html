<!doctype html>
<html lang="ja">


<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>Apollo 触ってみた。すごすぎ。 - てっく煮ブログ</title>
	<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link rel="stylesheet" href="/stylesheets/screen.css" type="text/css" />
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
	<meta property="og:title" content="Apollo 触ってみた。すごすぎ。"/>
	<meta property="og:url" content="http://tech.nitoyon.com/ja/blog/2007/03/20/apollo-preview1/"/>
	<meta property="og:type" content="article"/>
	<meta property="og:description" content="Apollo のα版がリリースされたので、さっそく触ってみました。初日はランタイムをインストールしてサンプルを動かしてみました。コンパイルは時間がなくてまだ試せてません。2007.2.24追記：HTML+JS版 Apollo アプリを作ってみる で解説文章を書きはじめていますApollo を知らない人のために、おおざっぱにざっくり説明しておくと、Apollo は Web アプリを作るようにローカルアプリケーションを作れるようになるステキなライブラリです。Flash だけに縛られているわけではなく、Flash, Flex, HTML, Ajax などを統合して利用することができます。イメー..."/>
	<meta property="og:image" content="http://tech.nitoyon.com/apple-touch-icon-114x114.png"/>
	<meta property="og:site_name" content="てっく煮ブログ"/>
	<meta property="fb:admins" content="1297551349" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<link rel="alternate" type="application/rss+xml" title="RSS" href="/ja/blog/index.xml" />
</head>
<body class="ja">
<header class="wrap page-header">
<div class="wrapped">
	<h1 id="logo">
		
		<a href="/ja/blog/" id="logo-blog-ja">てっく煮ブログ</a>
		
	</h1>
	<nav>
		<ul>
<li class="home"><a href="/ja/">HOME</a></li><li class="about"><a href="/ja/about/">ABOUT</a></li><li class="blog"><a href="/ja/blog/">BLOG(ja)</a></li><li class="blog-en"><a href="/en/blog/">BLOG(en)</a></li>
		</ul>
	</nav>
</div>
</header>
<div class="wrap">
<div class="wrapped">

<article>
<header>
<div class="post-date">2007年03月20日</div>



<h1>Apollo 触ってみた。すごすぎ。</h1>


<div class="share">
	<a href="http://b.hatena.ne.jp/entry/tech.nitoyon.com/entry/20070320/apollo_preview1" class="hatena-bookmark-button" data-hatena-bookmark-title="Apollo 触ってみた。すごすぎ。 - てっく煮ブログ"  data-hatena-bookmark-layout="standard" title="このエントリーをはてなブックマークに追加"><img src="http://b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a>
	<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://tech.nitoyon.com/ja/blog/2007/03/20/apollo-preview1/" data-lang="ja" data-size="horizontal" data-text="Apollo 触ってみた。すごすぎ。 - てっく煮ブログ" data-related="nitoyon" data-dnt="true">Tweet</a>
	<div class="fb-like" data-href="http://tech.nitoyon.com/ja/blog/2007/03/20/apollo-preview1/" data-send="false" data-layout="button_count" data-width="90" data-show-faces="false"></div>
</div>

</header>

<div class="entry">
<div class="entry-body">
<section>
<p><a href="http://labs.adobe.com/technologies/apollo/">Apollo のα版がリリースされた</a>ので、さっそく触ってみました。</p>
<p>初日はランタイムをインストールしてサンプルを動かしてみました。コンパイルは時間がなくてまだ試せてません。</p>
<ul><li>2007.2.24追記：<a href="http://tech.nitoyon.com/apollo/tutorial/html-js.html">HTML+JS版 Apollo アプリを作ってみる</a> で解説文章を書きはじめています</li></ul>
<p>Apollo を知らない人のために、おおざっぱにざっくり説明しておくと、Apollo は Web アプリを作るようにローカルアプリケーションを作れるようになるステキなライブラリです。Flash だけに縛られているわけではなく、Flash, Flex, HTML, Ajax などを統合して利用することができます。イメージはこんな感じ（Adobe の apollo_docs_alpha1_031907.zip からの引用）。</p>
<p><img src="http://f.hatena.ne.jp/images/fotolife/n/nitoyon/20070322/20070322093759.gif" width="428" height="316" alt="Apollo イメージ"></p>
<p>図からもわかるように、HTML/JavaScript だけで Apollo API を利用してローカルアプリを作ることもできます。さらに、HTML/JavaScript で作ったアプリの中に Flash を表示できるのはもちろん、その逆、Flash から HTML/JavaScript で作ったコンポーネントを利用、といったことも簡単にできます。既存の JavaScript のライブラリを活用しつつ、CSS でレイアウトするのは面倒なので、レイアウトだけ Flex で、といった開発もできるようになりそうです。</p>
<h1>サンプルアプリ６つ起動してみた</h1>
<p>apollo_docs_alpha1_031907.zip には６つのサンプルが付属していたので、全部インストールして起動してみました。<span class="footnote"><a href="#f1" title="Apollo:Applications:Samples でも別のサンプルが公開されていますが、記事執筆時点ではサイトが落ちていて試せませんでした。これらのサンプルについては アルファ公開したアドビ「Apollo」を早速使ってみた － ＠IT が詳しいです。" name="fn1">*1</a></span></p>
<center><img src="http://f.hatena.ne.jp/images/fotolife/n/nitoyon/20070320/20070320092019.jpg" width="450" height="360" alt="サンプル6つ"></center>
<p>それぞれにいろいろ特徴ありそう。左上から順にソースを流し読みしてみました。</p>
<a name="seemore"></a>
<h2>左上：Pixel Perfect</h2>
<p>半透明が美しい定規アプリです。ソースコードはわずか合計13KB。</p>
<p>なにがうれしいって、このアプリ、ActionScript だけで書かれています。MXML や Flex の力を借りることなく、ActionScript で class Hoge extends Sprite とするだけで GUI アプリが書けるのは魅力的です。</p>
<h2>中央上：PrefsXML Demo</h2>
<p>ウインドウの表示位置を XML で保存する、というだけのアプリなのですが、一番夢を感じました。この手のプロファイル保存って、GUI アプリのめんどくさいところの１つなのですが、この XML を作るソースにはしびれてしまいます。</p>
<div class="highlight"><pre><span class="kr">private</span> <span class="kd">function</span> <span class="nx">createXMLData</span><span class="p">()</span><span class="o">:</span><span class="k">void</span> 
<span class="p">{</span>
	<span class="nx">prefsXML</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">preferences</span><span class="o">/&gt;</span><span class="p">;</span>
	<span class="nx">prefsXML</span><span class="p">.</span><span class="nx">windowState</span><span class="p">.</span><span class="err">@</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">stage</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>
	<span class="nx">prefsXML</span><span class="p">.</span><span class="nx">windowState</span><span class="p">.</span><span class="err">@</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">stage</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
	<span class="nx">prefsXML</span><span class="p">.</span><span class="nx">windowState</span><span class="p">.</span><span class="err">@</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">stage</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
	<span class="nx">prefsXML</span><span class="p">.</span><span class="nx">windowState</span><span class="p">.</span><span class="err">@</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">stage</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
	<span class="nx">prefsXML</span><span class="p">.</span><span class="nx">saveDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toString</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
<p>E4X 万歳、ECMAScript 万歳、といったところでしょうか。情報保存用のクラスを用意する必要はなく、XML を変数のように扱って気軽に突っ込んでいってます。あとは、prefsXML.toXMLString() とするだけで、XML を出力できるわけです。</p>
<p>.NET Framework もびっくりの手軽さです…。</p>
<h2>右上：File Search</h2>
<p>ローカルファイルにアクセスできますよ、というのを実証するための検索ツールです。特定のディレクトリ以下をファイル名で検索できます。見た目は Flex そのものですね。</p>
<h2>左下：Text Editor</h2>
<p>Flex で作られたテキストエディタです。ファイルのロード・セーブができます。日本語は UTF-8 なら開けるようです。そのうち誰かが Encode.as を作ってくれて、文字コードなんでもいけるようになるはず！</p>
<h2>中央下：Text Editor (HTML-based)</h2>
<p>こちらは Text Editor の HTML 版です。HTML と JavaScript でできています。HTML/JavaScript だけで Apollo アプリを作れているのがよく分かりますね。</p>
<p>ActionScript で書いたこういうコードは</p>
<div class="highlight"><pre><span class="kr">import</span> <span class="nx">flash</span><span class="p">.</span><span class="nx">filesystem</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">fileOpen</span><span class="p">()</span><span class="o">:</span><span class="k">void</span>
<span class="p">{</span>
	<span class="nx">stream</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FileStream</span><span class="p">();</span>
	<span class="nx">stream</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">&quot;c:\\foo.txt&quot;</span><span class="p">,</span> <span class="nx">FileMode</span><span class="p">.</span><span class="nx">READ</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>JavaScript だとこうなります。</p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">fileOpen</span><span class="p">()</span><span class="o">:</span><span class="k">void</span>
<span class="p">{</span>
	<span class="nx">stream</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">runtime</span><span class="p">.</span><span class="nx">flash</span><span class="p">.</span><span class="nx">filesystem</span><span class="p">.</span><span class="nx">FileStream</span><span class="p">();</span>
	<span class="nx">stream</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">&quot;c:\\foo.txt&quot;</span><span class="p">,</span> <span class="nx">runtime</span><span class="p">.</span><span class="nx">flash</span><span class="p">.</span><span class="nx">filesystem</span><span class="p">.</span><span class="nx">FileMode</span><span class="p">.</span><span class="nx">READ</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>どちらからも同じライブラリを使っているのがよく分かりますね。</p>
<h2>右下：WeatherStation</h2>
<p>米 Yahoo の天気予報 API を叩いて、Y! から取得した画像を組み合わせて表示してます。いかにもガジェットっぽい見た目ですね。</p>
<p>Apollo アプリはどのドメインからでもデータを取ってくることができるので、いろんなサイトの API をフル活用することができます。もちろん、E4X で XML との親和性も抜群、REST でも SOAP でもなんでもこい。複数のサイトの API でマッシュアップ、なんてこともサーバーレスで実現できそうです。</p>
<h1>サンプルのインストール</h1>
<p>さて、先ほどサンプルをインストールした、と簡単に書きましたが、インストーラについても簡単に触れておきましょう。</p>
<p>Apollo のインストーラは全て拡張子が .air になっています。この .air は Apollo ランタイムを入れた段階で Adobe Apollo Application Installer (C:\Program Files\Common Files\Adobe Apollo\Versions\1.0.M3\apollo.exe) に関連付けられており、Apollo アプリケーションのインストールを一元管理するようです。</p>
<p>.air を起動すると、まずはこんな画面が登場。</p>
<center><img src="http://f.hatena.ne.jp/images/fotolife/n/nitoyon/20070320/20070320091307.jpg" width="300" height="225" alt="インストーラ1"></center>
<p>アプリケーションの製作者の情報や実行権限の情報が表示されます。信頼できそうにないベンダーのアプリだけどファイルの読み書きは行わいならインストールしよう、とか、この会社のアプリならファイルの読み書きは認めよう、とか、Adobe 社が認めるならインストールしよう、といった判断が行えるわけです。マニュアルによると、将来的にはアプリケーションにどれだけのアクセス権限を与えるか選べるようになるようです。</p>
<p>「Install」を選ぶと次の画面。</p>
<center><img src="http://f.hatena.ne.jp/images/fotolife/n/nitoyon/20070320/20070320091306.jpg" width="300" height="225" alt="インストーラ2"></center>
<p>よくあるインストーラの設定ですね。「スタートメニューに追加する」「デスクトップにショートカットを置く」をどうするか選べます。インストール先のパスは今のところ C:\Documents and Settings\<username>\Program Files\<publisher>\<name> で固定のようです。<publisher> と <name> というのは Apollo アプリ製作者が application XML と呼ばれる XML ファイルで指定する値です。</p>
<p>「Continue」を選ぶとインストールが進み</p>
<center><img src="http://f.hatena.ne.jp/images/fotolife/n/nitoyon/20070320/20070320091305.jpg" width="300" height="177" alt="インストーラ3"></center>
<p>無事、インストール完了です。</p>
<center><img src="http://f.hatena.ne.jp/images/fotolife/n/nitoyon/20070320/20070320091304.jpg" width="300" height="158" alt="インストーラ4"></center>
<p>開発者からの視点で見ると、application XML を書くだけで、自動的にインストーラまで作ってくれるのは非常に魅力的です。サンプルについていた XML はこんな具合でした。シンプルですよね。</p>
<div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;application</span> <span class="na">appId=</span><span class="s">&quot;com.adobe.apollo.samples.FileSearch&quot;</span> <span class="na">version=</span><span class="s">&quot;1.0&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://ns.adobe.com/apollo/application/1.0.M3&quot;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;properties&gt;</span>
		<span class="nt">&lt;name&gt;</span>File Search<span class="nt">&lt;/name&gt;</span>
		<span class="nt">&lt;description&gt;</span>A sample Apollo application.<span class="nt">&lt;/description&gt;</span>
		<span class="nt">&lt;publisher&gt;</span>Apollo Samples<span class="nt">&lt;/publisher&gt;</span>
		<span class="nt">&lt;copyright&gt;</span><span class="ni">&amp;copy;</span> 2007<span class="nt">&lt;/copyright&gt;</span>
	<span class="nt">&lt;/properties&gt;</span>
	<span class="nt">&lt;rootContent</span> <span class="na">systemChrome=</span><span class="s">&quot;none&quot;</span> <span class="na">transparent=</span><span class="s">&quot;false&quot;</span> <span class="na">visible=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>[SWF reference is generated]<span class="nt">&lt;/rootContent&gt;</span>
	<span class="nt">&lt;icon&gt;</span>
		<span class="nt">&lt;image16x16&gt;</span>icons/ApolloApp_16.png<span class="nt">&lt;/image16x16&gt;</span>
		<span class="nt">&lt;image32x32&gt;</span>icons/ApolloApp_32.png<span class="nt">&lt;/image32x32&gt;</span>
		<span class="nt">&lt;image48x48&gt;</span>icons/ApolloApp_48.png<span class="nt">&lt;/image48x48&gt;</span>
		<span class="nt">&lt;image128x128&gt;</span>icons/ApolloApp_128.png<span class="nt">&lt;/image128x128&gt;</span> 
	<span class="nt">&lt;/icon&gt;</span>
<span class="nt">&lt;/application&gt;</span>
</pre></div>
<ul><li>(追記) この XML ファイルのことを「ADF(Apollo Descriptor File)」と呼ぶそうです。</li><li>(追記) インストール後に .air を実行すると、アンインストールできるようです。それもすごい。（ネタ元：<a href="http://d.hatena.ne.jp/miya2000/20070320/p0">Adobe Apollo で Hello World - m2</a>）</li></ul>
<p>おわり。</p>
<div class="footnote"><p class="footnote"><a href="#fn1" name="f1">*1</a>: <a href="http://labs.adobe.com/wiki/index.php/Apollo:Applications:Samples">Apollo:Applications:Samples</a> でも別のサンプルが公開されていますが、記事執筆時点ではサイトが落ちていて試せませんでした。これらのサンプルについては <a href="http://www.atmarkit.co.jp/news/200703/19/apollo.html">アルファ公開したアドビ「Apollo」を早速使ってみた － ＠IT</a> が詳しいです。</p></div>
</section>

</div>

<footer>

<div id="post-ad">
<div id="post-ad1">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-5030829344952718";
/* tech.nitoyon.com footer */
google_ad_slot = "9965361520";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

<div id="post-ad2">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-5030829344952718";
/* tech.nitoyon.com footer2 */
google_ad_slot = "6039524013";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

</div>

<div class="share">

<div class="share">
	<a href="http://b.hatena.ne.jp/entry/tech.nitoyon.com/entry/20070320/apollo_preview1" class="hatena-bookmark-button" data-hatena-bookmark-title="Apollo 触ってみた。すごすぎ。 - てっく煮ブログ"  data-hatena-bookmark-layout="standard" title="このエントリーをはてなブックマークに追加"><img src="http://b.st-hatena.com/images/entry-button/button-only.gif" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a>
	<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://tech.nitoyon.com/ja/blog/2007/03/20/apollo-preview1/" data-lang="ja" data-size="horizontal" data-text="Apollo 触ってみた。すごすぎ。 - てっく煮ブログ" data-related="nitoyon" data-dnt="true">Tweet</a>
	<div class="fb-like" data-href="http://tech.nitoyon.com/ja/blog/2007/03/20/apollo-preview1/" data-send="false" data-layout="button_count" data-width="90" data-show-faces="false"></div>
</div>

</div>

<div class="entry-data">
<div class="post-date">2007年03月20日 <span class="edit-history"><a href="https://github.com/nitoyon/tech.nitoyon.com/commits/master/_posts/ja/2007-03-20-apollo-preview1.htn">編集履歴</a></span></div>


</div>



<div id="pager">
	
	<div class="previous">
		<a href="/ja/blog/2007/03/17/gmail-atom/" rel="previous"><b>&laquo;</b><span class="title">GMail の未読メールを自作スクリプトから読むための方法まとめ</span></a>
	</div>
	
	
	<div class="next">
		<a href="/ja/blog/2007/03/21/p1/" rel="next"><span class="title">Apollo コンパイルではまった...</span><b>&raquo;</b></a>
	</div>
	
</div>

<div id="disqus_thread"></div>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</footer>
</div><!--entry-->

</article>

</div>
</div>

<footer class="page-footer">
<h2>About</h2>
<div class="wrapped">
<div id="footer-right-column" class="column">
	<div id="profile">
		<h3>Profile</h3>

		<a href="/about.html" id="prof_pic"><img alt="Photo" src="/img/icon/pic.jpg"></a>
		<p>nitoyon (にとよん)</p>
		<p>京都のベンチャー会社勤務。プログラマ、たまに趣味でデザイン。</p>
		<p class="seemore"><a href="/ja/about/">詳細</a></p>
	</div>

	
	<div id="subscribe">
		<h3>Subscribe</h3>
		<ul>
			<li><a href="https://twitter.com/nitoyon" class="twitter-icon32">twitter: @nitoyon</a></li>
			<li><a href="https://www.facebook.com/TechNiBlogJa" class="facebook-icon32">Facebook ページ</a></li>
			<li><a href="/ja/blog/index.xml" class="rss-icon32">RSS</a></li>
		</ul>
	</div>
</div>

<div id="footer-left-column" class="column">
	<div id="recententries">
		<h3>Recent Entries</h3>
		<ul id="recententries_list">
			<li><img src="/images/loading.gif"><noscript>(JavaScript required)</noscript></li>
		</ul>
	</div>
</div>
</div><!--wrapped-->

<div class="wrapped">
	<div id="archive">
	<h3>Archive</h3>
	<ul id="archive_month_list">
		<li><img src="/images/loading.gif"><noscript>(JavaScript required)</noscript></li>
	</ul>
	</div>
</div><!-- wrapped -->

<div class="wrap copy">
&copy; nitoyon 2002-2013. All rights reserved.
</div>
</footer>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/ja/posts.js"></script>
<script src="/javascripts/techni.js"></script>
<div id="fb-root"></div>
</body>
</html>